# 学生信息管理系统 - 使用说明

## 功能概述

本系统实现了基于文件I/O的用户登录和注册功能。

## 已实现功能

### 1. 用户注册
- 用户输入用户名和密码
- 系统检查用户名是否已存在
- 确认两次密码输入是否一致
- 将用户信息保存到 `data/students.dat` 文件中
- 显示注册成功提示

### 2. 用户登录
- 用户输入用户名和密码
- 系统从 `data/students.dat` 文件中读取并验证用户信息
- 登录成功：显示登录成功界面和用户主菜单
- 登录失败：显示失败提示，建议用户注册账号

### 3. 系统退出
- 选择退出选项后正常退出程序

## 编译和运行

```bash
# 编译项目
make

# 清理编译文件
make clean

# 运行程序
./main
```

## 使用流程

### 首次使用（注册新用户）

1. 运行程序后，选择 `2) 注册`
2. 输入用户名（最多15个字符）
3. 输入密码（最多15个字符）
4. 再次输入密码进行确认
5. 注册成功后返回主菜单

### 登录系统

1. 选择 `1) 登录`
2. 输入已注册的用户名
3. 输入对应的密码
4. 登录成功后进入用户主菜单

### 退出系统

1. 在主菜单选择 `3) 退出`
2. 程序正常退出

## 文件结构

```
Student_Info_Manament_System/
├── main.c              # 主程序入口
├── Makefile            # 编译配置
├── data/               # 数据文件目录
│   └── students.dat    # 用户信息存储文件
├── include/            # 头文件目录
│   ├── global.h        # 全局数据结构定义
│   ├── config.h        # 配置常量
│   ├── login.h         # 登录功能声明
│   ├── register.h      # 注册功能声明
│   └── ui_display.h    # UI显示函数声明
└── source/             # 源文件目录
    ├── login.c         # 登录功能实现
    ├── register.c      # 注册功能实现
    ├── ui_display.c    # UI显示实现
    └── config.c        # 配置实现
```

## 数据存储

用户信息以二进制格式存储在 `data/students.dat` 文件中，每条记录包含：
- 用户账号信息（用户名、密码）
- 学生基本信息（ID、姓名、性别、年龄）
- 学生成绩信息（语文、数学、英语）

## 注意事项

1. 用户名和密码长度不超过15个字符
2. 注册时会检查用户名是否已存在
3. 密码需要二次确认以确保输入正确
4. 所有用户数据保存在 `data/students.dat` 文件中
5. 登录失败会提示用户可能需要先注册

## 已修复的问题

1. ✅ 修复了 Makefile 中的头文件路径问题
2. ✅ 修复了循环依赖错误（%.c:%.o → %.o:%.c）
3. ✅ 修复了函数命名不一致问题
4. ✅ 实现了完整的文件I/O操作
5. ✅ 修复了退出逻辑（主菜单循环正常退出）
6. ✅ 添加了所有必需的UI显示函数

## 下一步开发建议

- 实现用户信息查询功能
- 实现用户信息修改功能
- 添加管理员权限管理
- 增加密码加密功能
- 添加更详细的错误处理
